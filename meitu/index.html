<!DOCTYPE html>  
<html lang="zh">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>偷得浮生半日闲</title>  
    <style>  
        body {  
            margin: 0;  
            height: 100vh;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            color: white;  
            transition: background-image 1s ease-in-out, opacity 1s ease-in-out;  
            background-size: cover;  
            background-position: center;  
        }  
        #searchBox {  
            background-color: rgba(0, 0, 0, 0.5); /* 半透明背景 */  
            border: 2px solid white;  
            padding: 10px;  
            border-radius: 5px;  
        }  
        #searchInput {  
            padding: 10px;  
            border: none;  
            border-radius: 5px;  
        }  
    </style>  
</head>  
<body>  

    <div id="searchBox">  
        <form action="https://www.baidu.com/s" method="get">  
            <input type="text" id="searchInput" name="wd" placeholder="请输入搜索内容">  
            <button type="submit">搜索</button>  
        </form>  
    </div>  

    <script>  
        async function fetchImages() {  
            try {  
                const response = await fetch('https://yejiaoti.github.io/meitu/img.txt');  
                if (!response.ok) throw new Error('网络错误');  
                const text = await response.text();  
                return text.split('\n').filter(url => url.trim() !== ''); // 过滤空行  
            } catch (error) {  
                console.error('无法加载图片列表:', error);  
                return []; // 返回空数组以避免后续错误  
            }  
        }  

        async function setBackground() {  
            const images = await fetchImages();  
            if (images.length === 0) return; // 如果没有图片则退出  
            let currentIndex = 0;  

            function changeBackground() {  
                const newImage = `url(${images[currentIndex]})`;  
                document.body.style.opacity = 0; // 先将透明度设为0  
                setTimeout(() => {  
                    document.body.style.backgroundImage = newImage; // 更换背景  
                    document.body.style.opacity = 1; // 逐渐恢复透明度  
                }, 1000); // 1秒后更换背景  
                currentIndex = (currentIndex + 1) % images.length; // 循环切换  
            }  

            changeBackground(); // 首次设置背景  
            setInterval(changeBackground, 15000); // 每15秒切换  
        }  

        setBackground();  
    </script>  
<!-- 音乐播放器 -->
<script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.10.0/jquery.min.js"></script>
<script src="https://myhkw.cn/player/js/player.js" id="myhk" key="demo" m="1"></script>
</body>  
</html>
